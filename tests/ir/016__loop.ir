$main(): i32 {
@1:
   %1: i32 = const 12
   %2: i32 = call $fibonacci %1
   %3: i32 = const 144
   %4: i32 = sub %2 %3
   ret %4
}

$fibonacci(%n: i32): i32 {
@1:
   %1: i32 = const 1
   %2: bool = cmp_le %n %1
   br %2 @2 @3
@2:
   ret %n
@3:
   %v1.ptr: ptr<i32> = alloc i32
   %3: i32 = const 0
   store %v1.ptr %3
   %v2.ptr: ptr<i32> = alloc i32
   %4: i32 = const 1
   store %v2.ptr %4
   %i.ptr: ptr<i32> = alloc i32
   %5: i32 = const 2
   store %i.ptr %5
   jmp @4
@4:
   %v3.ptr: ptr<i32> = alloc i32
   %v1.1: i32 = load %v1.ptr
   %v2.1: i32 = load %v2.ptr
   %6: i32 = add %v1.1 %v2.1
   store %v3.ptr %6
   %v2.2: i32 = load %v2.ptr
   store %v1.ptr %v2.2
   %v3.1: i32 = load %v3.ptr
   store %v2.ptr %v3.1
   %i.1: i32 = load %i.ptr
   %7: bool = cmp_eq %i.1 %n
   br %7 @6 @7
@5:
   %v2.3: i32 = load %v2.ptr
   ret %v2.3
@6:
   jmp @5
@7:
   %i.2: i32 = load %i.ptr
   %8: i32 = const 1
   %9: i32 = add %i.2 %8
   store %i.ptr %9
   jmp @4
@8:
   jmp @7
}
